{
  "version": 3,
  "sources": ["vana11y-tabs.src.js"],
  "sourcesContent": ["/*\n * Refactor of vana11y accessible tab panel script\n *\n * ES2015 accessible tabs panel system, using ARIA\n * Website: https://github.com/nico3333fr/van11y-accessible-tab-panel-aria/issues/13\n * License MIT: https://github.com/nico3333fr/van11y-accessible-tab-panel-aria/blob/master/LICENSE\n */\n\nconst defaults = {\n\ttabs: {\n\t\tclass: '.js-tabs',\n\t\tsuffix: '-tabs',\n\t\trole: '',\n\t},\n\tlist: {\n\t\tclass: '.js-tablist',\n\t\tsuffix: '-tabs__list',\n\t\trole: 'tablist',\n\t},\n\titem: {\n\t\tclass: '.js-tablist-item',\n\t\tsuffix: '-tabs__item',\n\t\trole: 'presentation',\n\t},\n\tlink: {\n\t\tclass: '.js-tablist-link',\n\t\tsuffix: '-tabs__link',\n\t\trole: 'tab',\n\t},\n\tpanel: {\n\t\tclass: '.js-tab-panel',\n\t\tsuffix: '-tabs__content',\n\t\trole: 'tabpanel',\n\t},\n};\n\nconst interactive = {\n\tnodes: ['TEXTAREA', 'SELECT', 'OPTION', 'INPUT'],\n\ttypes: ['checkbox', 'radio', 'button', 'submit', 'image', 'file'],\n};\n\nclass Events {\n\t/**\n\t * Trigger handler methods for events\n\t *\n\t * @param {Object} event\n\t */\n\thandleEvent(event) {\n\t\tthis[`on${event.type}`](event);\n\t}\n\n\t/**\n\t * Handle select events\n\t *\n\t * @param {Boolean} bind\n\t */\n\taddEvents() {\n\t\tthis.list.addEventListener('click', this);\n\t\tthis.list.addEventListener('keydown', this);\n\t}\n\n\t/**\n\t * Check if we can handle click on non interactive element\n\t *\n\t * @param {Object} event\n\t * @return {Boolean}\n\t */\n\tcanClick(event) {\n\t\tconst { nodeName, type } = event.target;\n\n\t\tif (\n\t\t\tinteractive.nodes.includes(nodeName) ||\n\t\t\tinteractive.types.includes(type)\n\t\t) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\t/**\n\t * Handle click event to select tab\n\t *\n\t * @param {Object} event\n\t */\n\tonclick(event) {\n\t\tconst link = event.target.closest(this.options.link.class);\n\t\tconst index = link && this.links.indexOf(link);\n\n\t\tif (!this.canClick(event)) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (link && index > -1) {\n\t\t\tevent.preventDefault();\n\t\t\tthis.select(index);\n\t\t}\n\t}\n\n\t/**\n\t * Handle keydown event to select tab\n\t *\n\t * @param {Object} event\n\t */\n\tonkeydown(event) {\n\t\tconst isVertical = this.orientation === 'vertical';\n\t\tconst { keyCode, ctrlKey } = event;\n\t\tconst prev = isVertical ? 38 : 37;\n\t\tconst next = isVertical ? 40 : 39;\n\t\tlet index;\n\n\t\tswitch (keyCode) {\n\t\t\t// End.\n\t\t\tcase 35:\n\t\t\t\tindex = -1;\n\t\t\t\tbreak;\n\t\t\t// Home.\n\t\t\tcase 36:\n\t\t\t\tindex = 0;\n\t\t\t\tbreak;\n\t\t\t// Left (horizontal) or Up (vertical).\n\t\t\tcase prev:\n\t\t\t\tindex = this.index - 1;\n\t\t\t\tbreak;\n\t\t\t// Right (horizontal) or Down (vertical).\n\t\t\tcase next:\n\t\t\t\tindex = this.index + 1;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif (index !== undefined) {\n\t\t\tevent.preventDefault();\n\t\t\tthis.select(index);\n\t\t}\n\t}\n}\n\nclass Markup extends Events {\n\t/**\n\t * Query tabs nodes\n\t */\n\tquery() {\n\t\tconst { tabs, list, item, link, panel } = this.options;\n\n\t\tthis.list = this.element.querySelector(list.class);\n\t\tthis.items = this.list && [...this.list.querySelectorAll(item.class)];\n\t\tthis.links = this.list && [...this.list.querySelectorAll(link.class)];\n\t\tthis.panels = this.element.querySelectorAll(panel.class);\n\t}\n\n\t/**\n\t * Set tabs attributes\n\t */\n\tsetTabs() {\n\t\tthis.setAtts(this.list, 'list');\n\t\tthis.setAtts(this.element, 'tabs');\n\t\tthis.list.setAttribute(\n\t\t\t'aria-orientation',\n\t\t\tthis.orientation || 'horizontal'\n\t\t);\n\t\tthis.items.forEach((el) => this.setAtts(el, 'item'));\n\t\tthis.links.forEach((el, i) => this.setLink(el, i));\n\t\tthis.panels.forEach((el, i) => this.setPanel(el, i));\n\t}\n\n\t/**\n\t * Set link attributes\n\t */\n\tsetLink(el, i) {\n\t\tconst ref = el.getAttribute('href').replace('#', '');\n\t\tconst selected = el.hasAttribute('data-selected');\n\n\t\tel.setAttribute('aria-selected', 'false');\n\t\tel.setAttribute('aria-controls', ref);\n\t\tel.setAttribute('tabindex', '-1');\n\t\tel.setAttribute('id', `label_${ref}`);\n\n\t\tthis.setIndex(el, i, ref);\n\t\tthis.setAtts(el, 'link');\n\t}\n\n\t/**\n\t * Set index from link\n\t */\n\tsetIndex(el, i, ref) {\n\t\tconst selected = el.hasAttribute('data-selected');\n\n\t\tif (this.index === undefined && selected) {\n\t\t\tthis.index = i;\n\t\t}\n\n\t\tif (ref === this.urlHash) {\n\t\t\tthis.index = i;\n\t\t}\n\t}\n\n\t/**\n\t * Set panel attributes\n\t */\n\tsetPanel(el, i) {\n\t\tel.setAttribute('aria-labelledby', `label_${el.id}`);\n\t\tel.setAttribute('hidden', '');\n\t\tthis.setHeader(el, i);\n\t\tthis.setAtts(el, 'panel');\n\t}\n\n\t/**\n\t * Set panel header\n\t */\n\tsetHeader(el, i) {\n\t\tlet header = this.hxExists && el.querySelector(this.hxExists);\n\n\t\tif (this.hxLevel && !header) {\n\t\t\theader = document.createElement(this.hxLevel);\n\t\t\theader.setAttribute('tabindex', 0);\n\t\t\theader.textContent = this.links[i].textContent;\n\t\t\theader.className = this.hxClass || 'invisible';\n\n\t\t\tel.insertBefore(header, el.firstChild);\n\t\t}\n\n\t\theader && header.setAttribute('tabindex', 0);\n\t}\n\n\t/**\n\t * update link attributes\n\t */\n\tupdateLink(el, selected) {\n\t\tel.setAttribute('aria-selected', selected ? 'true' : 'false');\n\t\tel.setAttribute('tabindex', selected ? '0' : '-1');\n\t}\n\n\t/**\n\t * update panel attributes\n\t */\n\tupdatePanel(el, selected) {\n\t\tel[`${selected ? 'remove' : 'set'}Attribute`]('hidden', '');\n\t}\n\n\t/**\n\t * set HTML attributes\n\t */\n\tsetAtts(el, type) {\n\t\tconst { role, suffix } = this.options[type];\n\n\t\trole && el.setAttribute('role', role);\n\t\tel.className += ` ${this.prefix + suffix}`;\n\t}\n}\n\nclass Tabs extends Markup {\n\t/**\n\t * Constructor\n\t *\n\t * @param {Object} element\n\t * @param {Object} options\n\t */\n\tconstructor(element, options = {}) {\n\t\tsuper();\n\n\t\tthis.element = element;\n\t\tthis.options = { ...defaults, ...options };\n\t\tthis.urlHash = window.location.hash.replace('#', '');\n\n\t\t// !! HTML initialization !!\n\t\t// Should be changed by one [data-a11ytabs-options] attr with JSON string (e.g.: {hxClass: 'name', hxLevel: 'h2',...} ).\n\t\t// It will be easier to maintain and to override JS default options.\n\t\tthis.prefix = element.getAttribute('data-tabs-prefix-class');\n\t\tthis.hxLevel = element.getAttribute('data-hx');\n\t\tthis.hxClass = element.getAttribute('data-tabs-generated-hx-class');\n\t\tthis.hxExists = element.getAttribute('data-existing-hx');\n\t\tthis.orientation = element.getAttribute('data-orientation');\n\t}\n\n\t/**\n\t * Initialize instance\n\t */\n\tinit() {\n\t\tthis.query();\n\n\t\tif (!this.check()) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.setTabs();\n\t\tthis.hasAnchor();\n\t\tthis.addEvents();\n\t\tthis.toggle(this.index, true);\n\t}\n\n\t/**\n\t * Make sure we can safely initialize\n\t *\n\t * @return {Boolean}\n\t */\n\tcheck() {\n\t\tif (!this.list) {\n\t\t\treturn !!console.error(\n\t\t\t\t'The HTML markup of the tablist is not valid.'\n\t\t\t);\n\t\t}\n\n\t\tif (this.items.length !== this.panels.length) {\n\t\t\treturn !!console.error(\n\t\t\t\t'The number of tabs do not correspond to the number of panels.'\n\t\t\t);\n\t\t}\n\n\t\treturn true;\n\t}\n\n\t/**\n\t * Check if hash anchor present in panel content\n\t */\n\thasAnchor() {\n\t\tconst { panel } = this.options;\n\t\tconst anchor =\n\t\t\tthis.urlHash &&\n\t\t\tthis.element.querySelector(`${panel.class} #${this.urlHash}`);\n\t\tif (anchor) {\n\t\t\tvar closestPanel = anchor.closest(panel.class);\n\t\t\t// this.panels is an array-like NodeList object, convert to array and perform indexOf\n\t\t\tvar arrPanels = Array.prototype.slice.call(this.panels);\n\t\t\tvar index = arrPanels.indexOf(closestPanel);\n\n\t\t\tif (index > 0) {\n\t\t\t\tthis.index = index;\n\t\t\t\t// We wait tabs to be repainted to focus on anchor.\n\t\t\t\trequestAnimationFrame(() => anchor.focus());\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Select tab item and reveal tab panel\n\t *\n\t * @param {Integer} index Zero-based index\n\t */\n\tselect(index) {\n\t\tindex = this.modulo(this.items.length, index || 0);\n\n\t\tif (this.index === index) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.toggle(this.index, false);\n\t\tthis.toggle(index, true);\n\t\tthis.focus(index);\n\t\tthis.state(index);\n\n\t\tthis.index = index;\n\t}\n\n\t/**\n\t * Toggle tab link and panel attributes\n\t *\n\t * @param {Integer} index    Zero-based index\n\t * @param {Boolean} selected State of tab and panel\n\t */\n\ttoggle(index = 0, selected) {\n\t\tthis.updatePanel(this.panels[index], selected);\n\t\tthis.updateLink(this.links[index], selected);\n\t}\n\n\t/**\n\t * Focus link on select\n\t *\n\t * @param {Integer} index Zero-based index\n\t */\n\tfocus(index) {\n\t\tthis.links[index].focus();\n\t}\n\n\t/**\n\t * Update url hash on tab selection\n\t *\n\t * @param {Integer} index Zero-based index\n\t */\n\tstate(index) {\n\t\tconst { pathname, search } = window.location;\n\t\tconst controls = this.links[index].getAttribute('aria-controls');\n\n\t\tcontrols &&\n\t\t\thistory.pushState &&\n\t\t\thistory.pushState(null, null, `${pathname + search}#${controls}`);\n\t}\n\n\t/**\n\t * Modulo calculation\n\t *\n\t * @param {Integer} length\n\t * @param {Integer} index\n\t */\n\tmodulo(length, index) {\n\t\treturn (length + (index % length)) % length;\n\t}\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n\tconst tabs = document.querySelectorAll('.js-tabs');\n\ttabs && tabs.forEach((el) => new Tabs(el).init());\n});\n"],
  "mappings": "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",
  "names": ["defaults", "interactive", "Events", "event", "nodeName", "type", "link", "index", "isVertical", "keyCode", "ctrlKey", "prev", "next", "Markup", "tabs", "list", "item", "panel", "el", "i", "ref", "selected", "header", "role", "suffix", "Tabs", "element", "options", "__spreadValues", "anchor", "closestPanel", "arrPanels", "pathname", "search", "controls", "length"]
}
